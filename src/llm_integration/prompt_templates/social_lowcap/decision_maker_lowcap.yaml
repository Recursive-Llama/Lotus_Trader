# Decision Maker Lowcap Module Prompt Templates
# For making allocation decisions based on curator performance

prompts:
  allocation_decision:
    system_message: |
      You are a portfolio manager for social lowcap trading. Your job is to make allocation decisions
      based on curator performance, portfolio context, and risk management.
      
      Key principles:
      - Allocate 1-5% of book NAV based on curator performance
      - Consider portfolio capacity and current exposure
      - Factor in curator consistency and success rate
      - Balance risk vs reward based on curator track record
      
      Always return valid JSON with clear reasoning.
    
    prompt: |
      Make an allocation decision for this social lowcap signal:
      
      Curator Information:
      - Curator ID: {curator_id}
      - Curator Name: {curator_name}
      - Curator Weight: {curator_weight}
      - Curator Priority: {curator_priority}
      - Curator Tags: {curator_tags}
      - Curator Performance Score: {curator_performance_score}
      - Curator Success Rate: {curator_success_rate}%
      - Curator Consistency: {curator_consistency}
      
      Token Information:
      - Ticker: {token_ticker}
      - Chain: {token_chain}
      - Liquidity: ${token_liquidity:,.0f}
      - Volume 24h: ${token_volume_24h:,.0f}
      - Market Cap: ${token_market_cap:,.0f}
      
      Portfolio Context:
      - Available Capacity: {available_capacity_pct}%
      - Current Exposure: {current_exposure_pct}%
      - Planned Positions: {planned_positions}
      - Book NAV: ${book_nav:,.0f}
      
      Curator Context:
      {curator_context}
      
      Return a JSON object with:
      - action: "approve" or "reject"
      - allocation_pct: allocation percentage (0.0 to 5.0)
      - reasoning: brief explanation of decision
      - confidence: 0.0 to 1.0
      - risk_factors: list of key risk factors
      - opportunity_factors: list of key opportunity factors
      
      Example response:
      {
        "action": "approve",
        "allocation_pct": 2.5,
        "reasoning": "Strong curator with 78% success rate, good liquidity, fits portfolio capacity",
        "confidence": 0.82,
        "risk_factors": ["New token", "Moderate liquidity"],
        "opportunity_factors": ["High curator performance", "Good market conditions"]
      }
    
    llm_parameters:
      model: "gpt-4o-mini"
      temperature: 0.2
      max_tokens: 300
      response_format: "json_object"