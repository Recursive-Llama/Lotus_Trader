
    🚀 Social Trading System
    ========================
    
    This system monitors social media for crypto signals,
    makes trading decisions, and executes trades automatically.
    
    Components:
    - Social Monitoring (Twitter/Telegram)
    - Decision Making (AI-powered)
    - Trading Execution (Multi-entry/exit)
    - Position Management (Real-time)
    - Learning System (Continuous improvement)
    
    Press Ctrl+C to stop the system.
    
🚀 Social Trading System initialized
🚀 Starting Social Trading System...
==================================================
🔧 Initializing components...
🔄 Populating curators table from YAML config...
   ✅ Curator 0xdetweiler already exists in database
   ✅ Curator louiscooper already exists in database
   ✅ Curator zinceth already exists in database
   ✅ Curator cryptotrissy already exists in database
   ✅ Curator cryptoxhunter already exists in database
   ✅ Curator duckingnator already exists in database
   ✅ Curator moneymancalls already exists in database
   ✅ Curator cryptolyxe already exists in database
   ✅ Curator crypto_popseye already exists in database
   ✅ Curator zinceth already exists in database
   ✅ Curator overdose_ai already exists in database
✅ Curators table population completed
✅ All components initialized
📱 Starting social media monitoring...
🔄 Populating curators table from YAML config...
   ✅ Curator 0xdetweiler already exists in database
   ✅ Curator louiscooper already exists in database
   ✅ Curator zinceth already exists in database
   ✅ Curator cryptotrissy already exists in database
   ✅ Curator cryptoxhunter already exists in database
   ✅ Curator duckingnator already exists in database
   ✅ Curator moneymancalls already exists in database
   ✅ Curator cryptolyxe already exists in database
   ✅ Curator crypto_popseye already exists in database
   ✅ Curator zinceth already exists in database
   ✅ Curator overdose_ai already exists in database
✅ Curators table population completed
🚀 Starting Social Media Monitor...
📱 Monitoring Twitter and Telegram for crypto signals
Press Ctrl+C to stop

📊 Starting position management...
🧠 Learning system ready to process strands
🔍 Found 10 Twitter curators
📱 Starting sequential monitoring (30 seconds per curator)...
🔧 Initializing Twitter scanner browser...
✅ Twitter scanner browser initialized

📱 Checking @0xdetweiler...
   🔧 Calling LLM with text: same market cap as USELESS coin and it's being pushed by binance ceo lmao....
   🔧 Using prompt manager: True
   🔧 System message: You are a specialized token extraction system for ...
   🔧 Raw LLM response: {
  "tokens": [
    {
      "token_name": "USELESS",
      "network": null,
      "contract_address": null,
      "sentiment": "negative",
      "confidence": 0.9,
      "has_chart": false,
      "chart_type": null,
      "market_context": {
        "price_mention": null,
        "market_cap": "same as referenced token",
        "risk_assessment": "implied high risk/negative",
        "competitors": [],
        "platform": null
      },
      "trading_signals": {
        "action": null,
        "timing": null,
        "confidence": 0.0
      }
    }
  ]
}
   🔍 LLM Response: {'tokens': [{'token_name': 'USELESS', 'network': None, 'contract_address': None, 'sentiment': 'negative', 'confidence': 0.9, 'has_chart': False, 'chart_type': None, 'market_context': {'price_mention': None, 'market_cap': 'same as referenced token', 'risk_assessment': 'implied high risk/negative', 'competitors': [], 'platform': None}, 'trading_signals': {'action': None, 'timing': None, 'confidence': 0.0}}]}
   🔍 Processing token: USELESS
   📌 Pinned tweet detected - skipping
   📝 Most recent: less hype. more real utility....
   🕐 Time: 2025-09-17T16:08:27.000Z
   🆕 First time checking - processing most recent tweet
   🔍 Processing tweet: less hype. more real utility....
   🔧 Calling LLM with text: less hype. more real utility....
   🔧 Using prompt manager: True
   🔧 System message: You are a specialized token extraction system for ...
   🔧 Raw LLM response: {"tokens": []}
   🔍 LLM Response: None
   ⚠️  No tokens found in tweet
   ✅ Checked @0xdetweiler
⏳ Waiting 30 seconds before next curator...
   ✅ Token verified: USELESS
   🔧 Creating strand for USELESS...
social | NEW SIGNAL cryptolyxe → USELESS (solana) vol $2,008,074 liq $4,963,962
social | Strand created: 0c1265b0…  → target: decision_maker_lowcap
   🔄 Processing with Decision Maker...
   ✅ Learning system task created
   ✅ Strand created successfully for USELESS
   📊 Final result: 1 strands created
🧠 Universal Learning System: Processing strand 0c1265b0-4071-4f1f-92a5-2f30b66836fb - social_lowcap
🧠 Calculating scores for strand...
🧠 Checking if should trigger Decision Maker...
🧠 Should trigger Decision Maker: True
🧠 Triggering Decision Maker...
decision | Triggering for social strand 0c1265b0…
🧠 Decision Maker: Import successful
🧠 Decision Maker: Initializing Decision Maker...
🧠 Decision Maker: Initialized successfully
🧠 Decision Maker: Processing strand 0c1265b0-4071-4f1f-92a5-2f30b66836fb
decision | Checklist: 5/6 passed (failed: signal_direction_buy)
decision | REJECTED USELESS (solana) reasons: Signal direction is 'None', need 'buy'
decision | Strand b77276f3… (from 0c1265b0…) → action: reject
🧠 Decision Maker completed - strand processed
🧠 Checking if should trigger Trader...
🧠 Trader trigger check: kind=social_lowcap, action=None, tags=['curated', 'social_signal', 'dm_candidate', 'verified']
🧠 Trader trigger result: False
🧠 Should trigger Trader: False

📱 Checking @LouisCooper_...
   📌 Pinned tweet detected - skipping
   📝 Most recent: The higher that $STBL goes the more undervalued $PENDLE becomes...
   🕐 Time: 2025-09-16T19:27:10.000Z
   🆕 First time checking - processing most recent tweet
   🔍 Processing tweet: The higher that $STBL goes the more undervalued $P...
   🔧 Calling LLM with text: The higher that $STBL goes the more undervalued $PENDLE becomes...
   🔧 Using prompt manager: True
   🔧 System message: You are a specialized token extraction system for ...
   🔧 Raw LLM response: {
  "tokens": [
    {
      "token_name": "STBL",
      "network": null,
      "contract_address": null,
      "sentiment": "positive",
      "confidence": 0.8,
      "has_chart": false,
      "chart_type": null,
      "market_context": {
        "price_mention": true,
        "market_cap": null,
        "risk_assessment": null,
        "competitors": ["PENDLE"],
        "platform": null
      },
      "trading_signals": {
        "action": "buy",
        "timing": null,
        "confidence": 0.7
      }
    },
    {
      "token_name": "PENDLE",
      "network": null,
      "contract_address": null,
      "sentiment": "negative",
      "confidence": 0.7,
      "has_chart": false,
      "chart_type": null,
      "market_context": {
        "price_mention": false,
        "market_cap": null,
        "risk_assessment": "undervalued",
        "competitors": ["STBL"],
        "platform": null
      },
      "trading_signals": {
        "action": null,
        "timing": null,
        "confidence": 0.5
      }
    }
  ]
}
   🔍 LLM Response: {'tokens': [{'token_name': 'STBL', 'network': None, 'contract_address': None, 'sentiment': 'positive', 'confidence': 0.8, 'has_chart': False, 'chart_type': None, 'market_context': {'price_mention': True, 'market_cap': None, 'risk_assessment': None, 'competitors': ['PENDLE'], 'platform': None}, 'trading_signals': {'action': 'buy', 'timing': None, 'confidence': 0.7}}, {'token_name': 'PENDLE', 'network': None, 'contract_address': None, 'sentiment': 'negative', 'confidence': 0.7, 'has_chart': False, 'chart_type': None, 'market_context': {'price_mention': False, 'market_cap': None, 'risk_assessment': 'undervalued', 'competitors': ['STBL'], 'platform': None}, 'trading_signals': {'action': None, 'timing': None, 'confidence': 0.5}}]}
   🔍 Processing token: STBL
   ✅ Token verified: STBL
   🔧 Creating strand for STBL...
social | NEW SIGNAL louiscooper → STBL (solana) vol $7,647,821 liq $595,575
social | Strand created: 1eab53ce…  → target: decision_maker_lowcap
   🔄 Processing with Decision Maker...
   ✅ Learning system task created
   ✅ Strand created successfully for STBL
   🔍 Processing token: PENDLE
🧠 Universal Learning System: Processing strand 1eab53ce-dd49-46ac-9e11-35a6a89f1cd7 - social_lowcap
🧠 Calculating scores for strand...
🧠 Checking if should trigger Decision Maker...
🧠 Should trigger Decision Maker: True
🧠 Triggering Decision Maker...
decision | Triggering for social strand 1eab53ce…
🧠 Decision Maker: Import successful
🧠 Decision Maker: Processing strand 1eab53ce-dd49-46ac-9e11-35a6a89f1cd7
decision | Checklist: 6/6 passed (solana, not holding, curator 0.60, buy, capacity)
🔄 Decision Maker: Checking if learning system is available...
🔄 Decision Maker: hasattr learning_system: True
🔄 Decision Maker: learning_system is not None: True
🔄 Triggering learning system for decision strand...
🔄 Decision strand ID: ab0eb93f-1c06-4f30-815e-3b42e30ed30d
🔄 Decision strand kind: decision_lowcap
🔄 Decision strand action: approve
🔄 Decision strand tags: ['decision', 'social_lowcap', 'approved', 'simple']
   🔄 Calling learning system with await...
🧠 Universal Learning System: Processing strand ab0eb93f-1c06-4f30-815e-3b42e30ed30d - decision_lowcap
🧠 Calculating scores for strand...
🧠 Checking if should trigger Decision Maker...
🧠 Should trigger Decision Maker: False
🧠 Checking if should trigger Trader...
🧠 Trader trigger check: kind=decision_lowcap, action=approve, tags=['decision', 'social_lowcap', 'approved', 'simple']
🧠 Trader trigger result: True
🧠 Should trigger Trader: True
🧠 Triggering Trader...
trader | Triggered by decision ab0eb93f…
🧠 Trader: Import successful
🧠 Trader: Initializing Trader...
🧠 Trader: Initialized successfully
🧠 Trader: Processing decision strand ab0eb93f-1c06-4f30-815e-3b42e30ed30d
   ✅ Token verified: PENDLE
   🔧 Creating strand for PENDLE...
social | NEW SIGNAL louiscooper → PENDLE (ethereum) vol $356,076 liq $1,757,398
social | Strand created: 6305de87…  → target: decision_maker_lowcap
   🔄 Processing with Decision Maker...
   ✅ Learning system task created
   ✅ Strand created successfully for PENDLE
   📊 Final result: 2 strands created
   ✅ Tweet processed successfully
   ✅ Checked @LouisCooper_
⏳ Waiting 30 seconds before next curator...
🧠 Universal Learning System: Processing strand 6305de87-ba89-4034-9a37-b31161d3840b - social_lowcap
🧠 Calculating scores for strand...
🧠 Checking if should trigger Decision Maker...
🧠 Should trigger Decision Maker: True
🧠 Triggering Decision Maker...
decision | Triggering for social strand 6305de87…
🧠 Decision Maker: Import successful
🧠 Decision Maker: Processing strand 6305de87-ba89-4034-9a37-b31161d3840b
decision | Checklist: 5/6 passed (failed: signal_direction_buy)
decision | REJECTED PENDLE (ethereum) reasons: Signal direction is 'None', need 'buy'
decision | Strand 14207644… (from 6305de87…) → action: reject
🧠 Decision Maker completed - strand processed
🧠 Checking if should trigger Trader...
🧠 Trader trigger check: kind=social_lowcap, action=None, tags=['curated', 'social_signal', 'dm_candidate', 'verified']
🧠 Trader trigger result: False
🧠 Should trigger Trader: False
trader | TRADE OK: buy STBL on solana @ pumpswap | qty 0.024019 native | price 0.000002 SOL | alloc 2.0% | position_id STBL_solana_1758128774
🧠 Trader completed - strand processed
   ✅ Learning system completed: {'id': 'ab0eb93f-1c06-4f30-815e-3b42e30ed30d', 'module': 'decision_maker_lowcap', 'kind': 'decision_lowcap', 'symbol': 'STBL', 'timeframe': None, 'session_bucket': 'social_20250917_17', 'regime': None, 'tags': ['decision', 'social_lowcap', 'approved', 'simple'], 'target_agent': None, 'created_at': '2025-09-17T17:06:12.44566+00:00', 'updated_at': '2025-09-17T17:06:12.44566+00:00', 'lifecycle_id': None, 'parent_id': '1eab53ce-dd49-46ac-9e11-35a6a89f1cd7', 'sig_sigma': None, 'sig_confidence': 0.7, 'confidence': 0.8, 'sig_direction': 'buy', 'trading_plan': None, 'signal_pack': {'token': {'dex': 'pumpswap', 'chain': 'solana', 'price': 0.0003738, 'ticker': 'STBL', 'contract': 'DpXDBp18CsTg39yVT1TwMGVHw2wMRife6DvV2Rrkejn4', 'verified': True, 'liquidity': 595575.26, 'market_cap': 373817.0, 'volume_24h': 7647820.65}, 'venue': {'dex': 'pumpswap', 'chain': 'solana', 'liq_usd': 595575.26, 'vol24h_usd': 7647820.65}, 'curator': {'id': 'louiscooper', 'name': 'Louis Cooper', 'tags': ['crypto', 'trading', 'analysis'], 'handle': '@LouisCooper_', 'weight': 0.5, 'platform': 'twitter', 'priority': 'high'}, 'trading_signals': {'action': 'buy', 'timing': None, 'confidence': 0.7}}, 'dsi_evidence': None, 'regime_context': None, 'event_context': None, 'module_intelligence': {'social_signal': {'message': {'url': 'https://twitter.com/LouisCooper_/status/1968033942566818149', 'text': 'The higher that $STBL goes the more undervalued $PENDLE becomes', 'has_chart': False, 'has_image': False, 'timestamp': '2025-09-16T19:27:10.000Z', 'chart_type': None}, 'context_slices': {'sentiment': 'positive', 'volume_bucket': '1M+', 'time_bucket_utc': '12-18', 'liquidity_bucket': '100k+'}}}, 'curator_feedback': None, 'accumulated_score': None, 'lesson': None, 'braid_level': 1, 'resonance_score': None, 'strategic_meta_type': None, 'team_member': None, 'agent_id': None, 'experiment_id': None, 'doctrine_status': None, 'prediction_score': None, 'outcome_score': None, 'content': {'token': {'dex': 'pumpswap', 'chain': 'solana', 'price': 0.0003738, 'ticker': 'STBL', 'contract': 'DpXDBp18CsTg39yVT1TwMGVHw2wMRife6DvV2Rrkejn4', 'verified': True, 'liquidity': 595575.26, 'market_cap': 373817.0, 'volume_24h': 7647820.65}, 'venue': {'dex': 'pumpswap', 'chain': 'solana', 'liq_usd': 595575.26, 'vol24h_usd': 7647820.65}, 'action': 'approve', 'reasoning': 'Approved: Curator score 0.60, allocating 2.0%', 'curator_id': 'louiscooper', 'source_kind': 'social_lowcap', 'allocation_pct': 2.0, 'source_strand_id': '1eab53ce-dd49-46ac-9e11-35a6a89f1cd7', 'curator_confidence': 0.6}, 'telemetry': None, 'resonance_updated_at': None, 'motif_id': None, 'motif_name': None, 'motif_family': None, 'pattern_type': None, 'autonomy_level': None, 'directive_type': None, 'status': 'active', 'feature_version': 1, 'derivation_spec_id': None, 'persistence_score': None, 'novelty_score': None, 'surprise_rating': None, 'cluster_key': None, 'strength_range': None, 'rr_profile': None, 'market_conditions': None, 'prediction_data': None, 'outcome_data': None, 'max_drawdown': None, 'tracking_status': 'active', 'plan_version': 1, 'replaces_id': None, 'replaced_by_id': None, 'context_vector': None, 'resonance_scores': None, 'historical_metrics': None, 'processed': False, 'braid_candidate': False, 'quality_score': None, 'metadata': None}
decision | APPROVED STBL alloc 2.0% (curator 0.60)
decision | Strand ab0eb93f… (from 1eab53ce…) → action: approve
🧠 Decision Maker completed - strand processed
🧠 Checking if should trigger Trader...
🧠 Trader trigger check: kind=social_lowcap, action=None, tags=['curated', 'social_signal', 'dm_candidate', 'verified']
🧠 Trader trigger result: False
🧠 Should trigger Trader: False
node:events:497
      throw er; // Unhandled 'error' event
      ^

Error: write EPIPE
    at afterWriteDispatched (node:internal/stream_base_commons:161:15)
    at writeGeneric (node:internal/stream_base_commons:152:3)
    at Socket._writeGeneric (node:net:954:11)
    at Socket._write (node:net:966:8)
    at writeOrBuffer (node:internal/streams/writable:570:12)
    at _write (node:internal/streams/writable:499:10)
    at Writable.write (node:internal/streams/writable:508:10)
    at PipeTransport.send (/Users/bruce/Documents/Lotus_Trader⚘⟁/.venv/lib/python3.13/site-packages/playwright/driver/package/lib/protocol/transport.js:51:21)
    at dispatcherConnection.onmessage (/Users/bruce/Documents/Lotus_Trader⚘⟁/.venv/lib/python3.13/site-packages/playwright/driver/package/lib/cli/driver.js:59:57)
    at DispatcherConnection.sendEvent (/Users/bruce/Documents/Lotus_Trader⚘⟁/.venv/lib/python3.13/site-packages/playwright/driver/package/lib/server/dispatchers/dispatcher.js:178:10)
Emitted 'error' event on Socket instance at:
    at emitErrorNT (node:internal/streams/destroy:169:8)
    at emitErrorCloseNT (node:internal/streams/destroy:128:3)
    at process.processTicksAndRejections (node:internal/process/task_queues:82:21) {
  errno: -32,
  code: 'EPIPE',
  syscall: 'write'
}

Node.js v20.18.0
